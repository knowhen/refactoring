Refactoring

## 重构的第一步

- **建立一组可靠的测试环境** 
 
  - `代码块越小，功能越容易管理`

- **找出逻辑泥团，提炼函数**

  - `找出局部变量和参数，不被修改的变量可以作为参数传入新的函数`
  - `如果只有一个变量被修改，可以作为返回值`
  - `大多数情况下，函数应该放在它所使用数据的所属对象内`
  - `去除临时变量`
  - `使用多态取代switch语句`
